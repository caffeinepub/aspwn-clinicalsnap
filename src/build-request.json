{
  "kind": "build_request",
  "title": "Add edit and delete options for patient profiles",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-83",
      "text": "Add an Edit Patient action to the PatientListPanel so users can open the PatientEditorDialog in edit mode for the selected patient, allowing modification of patient name, patient ID, date of birth, and treatment history notes.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-final"
        ],
        "quotes": [
          "add an option to edit and delete a patient name once added"
        ]
      },
      "acceptanceCriteria": [
        "The PatientListPanel displays an Edit action (button or menu item) for each patient entry",
        "Tapping Edit opens the PatientEditorDialog pre-populated with the patient's current data",
        "Changes to patient name, ID, DOB, or treatment history can be saved and persist to IndexedDB",
        "The patient list updates immediately after saving edits to reflect the new patient name"
      ]
    },
    {
      "id": "REQ-84",
      "text": "Add a Delete Patient action to the PatientListPanel that triggers the PatientDeleteConfirmDialog and, upon confirmation, removes the patient and all associated sessions, photos, annotations, pairings, and voice memos from IndexedDB.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-final"
        ],
        "quotes": [
          "add an option to edit and delete a patient name once added"
        ]
      },
      "acceptanceCriteria": [
        "The PatientListPanel displays a Delete action (button or menu item) for each patient entry",
        "Tapping Delete shows the PatientDeleteConfirmDialog with a clear warning about permanent data removal",
        "Confirming deletion removes the patient and cascades deletion to all related sessions, photos, annotations, pairings, and voice memos",
        "The patient list updates immediately after deletion and no longer shows the deleted patient",
        "If the deleted patient was currently selected, the UI clears the selection or selects another patient"
      ]
    },
    {
      "id": "REQ-85",
      "text": "Ensure the Edit and Delete actions in the PatientListPanel are touch-friendly and suitable for iPad interaction, with clear labeling and adequate touch target sizes.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-final"
        ]
      },
      "acceptanceCriteria": [
        "Edit and Delete buttons/menu items have touch target sizes of at least 44x44 points",
        "Actions are clearly labeled with text or universally recognizable icons",
        "Actions are accessible without requiring precise tapping or nested menus"
      ]
    }
  ],
  "constraints": [
    "Do not modify backend/main.mo or any immutable frontend paths (useInternetIdentity, useActor, main.tsx, components/ui/*)",
    "Patient deletion must cascade to all related entities without leaving orphaned data in IndexedDB"
  ],
  "nonGoals": [
    "Batch patient deletion",
    "Undo functionality for patient deletion",
    "Export patient data before deletion"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}